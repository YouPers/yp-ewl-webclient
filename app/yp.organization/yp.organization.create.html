<div class="container">


    <div class="row" >

        <div class="col-md-6">

            <div ng-if="organization">


                <div class="panel panel-default">
                    <div class="panel-heading">
                        <avatar-upload type="organization" avatar-object="organization"></avatar-upload>
                        <h2>{{organization.name}}</h2>
                    </div>

                    <div class="panel-body">
                        <table class="table">
                            <thead>
                            <tr>
                                <th translate>organization.list.name</th>
                                <th translate>organization.list.sector</th>
                                <th translate>organization.list.nrOfEmployees</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>{{organization.location}}</td>
                                <td>{{organization.sector}}</td>
                                <td>{{organization.nrOfEmployees}}</td>
                            </tr>
                            </tbody>


                        </table>
                    </div>
                </div>

            </div>

            <div ng-hide="organization">


                <h2 translate>organizationForm.header</h2>

                <form name="organizationForm" ypModel="organizationObj" class="form" role="form" ng-submit="createOrganization()" novalidate>

                    <yp-input name="name" required></yp-input>
                    <yp-input name="location" required></yp-input>
                    <yp-input name="sector"></yp-input>
                    <yp-input name="nrOfEmployees"></yp-input>

                    <button type="reset" class="btn btn-sm"><span translate>organizationForm.reset</span></button>
                    <button type="submit" class="btn btn-success btn-sm" ng-disabled="organizationForm.$invalid"><span translate>organizationForm.save</span></button>

                </form>
            </div>

        </div>

        <div class="col-md-6">
            <div ng-if="organization">

                <accordion close-others="false">


                    <accordion-group heading="{{'organization.inviteOrganizationAdminForm.header' | translate}}" is-open="true">
                        <form class="form-inline" ng-if="!invitationSent"
                              role="form"
                              ng-submit="inviteOrganizationAdmin(model.inviteOrganizationAdmin, organization)"
                              name="model.inviteOrganizationAdminForm">
                            <div class="form-group"
                                 ng-class="{'has-error': model.inviteOrganizationAdminForm.email.$dirty && model.inviteOrganizationAdminForm.email.$invalid}">
                                <label class="sr-only" translate>organization.inviteOrganizationAdminForm.email.label</label>
                                <input class="form-control email-field" name="email" type="text" ng-model="model.inviteOrganizationAdmin"
                                       placeholder="{{'organization.inviteOrganizationAdminForm.email.label' | translate}}"
                                       multiple-Emails required>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary" ng-disabled="model.inviteOrganizationAdminForm.$invalid"
                                        translate>organization.inviteOrganizationAdminForm.inviteSubmit
                                </button>
                            </div>
                        </form>
                        <div ng-if="invitationSent" translate>organization.inviteOrganizationAdminForm.invitationSent</div>

                        <div ng-repeat="orgAdmin in organization.administrators" class="row">
                            <div class="col-md-12">
                                <div user="orgAdmin"></div>
                            </div>
                        </div>

                    </accordion-group>

                    <accordion-group heading="{{'campaign.list.header' | translate}}" is-open="true">

                        <div class="panel-body">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th translate>campaign.list.title</th>
                                    <th translate>campaign.list.start</th>
                                    <th translate>campaign.list.end</th>
                                    <th translate>campaign.list.relatedService</th>
                                    <th translate>campaign.list.location</th>
                                    <th translate>campaign.list.slogan</th>
                                    <th translate>campaign.list.paymentStatus</th>
                                </tr>
                                </thead>
                                <tbody ng-repeat="campaign in campaigns">
                                <tr>
                                    <td><a ui-sref="campaign({id: campaign.id})">{{campaign.title}}</a></td>
                                    <td>{{formatDate(campaign.start)}}</td>
                                    <td>{{formatDate(campaign.end)}}</td>
                                    <td>{{campaign.relatedService}}</td>
                                    <td>{{campaign.location}}</td>
                                    <td>{{campaign.slogan}}</td>
                                    <td>{{campaign.paymentStatus}}</td>
                                </tr>
                                </tbody>


                            </table>
                        </div>
                    </accordion-group>
                    <accordion-group heading="{{'campaignForm.header.newCampaign' | translate}}" is-open="false">

                        <form name="campaignForm" ypModel="campaignObj" class="form" role="form" ng-submit="createCampaign()" novalidate>

                            <yp-input name="title" required></yp-input>

                            <div class="form-group">
                                <label translate>campaignForm.start.label</label>
                                <input class="form-control" type="text" id="datePickerStart"
                                       datepicker-popup="dd.MM.yyyy"
                                       ng-model="campaignObj.start"
                                       is-open="startOpened" min="minDateStart"
                                       datepicker-options="dateOptions"
                                       date-disabled="disabled(date, mode)" ng-required="true"/>
                            </div>

                            <div class="form-group">
                                <label translate>campaignForm.end.label</label>
                                <input class="form-control" type="text" id="datePickerEnd"
                                       datepicker-popup="dd.MM.yyyy"
                                       ng-model="campaignObj.end"
                                       is-open="endOpened" min="minDateEnd"
                                       datepicker-options="dateOptions"
                                       date-disabled="disabled(date, mode)" ng-required="true"/>
                            </div>

                            <yp-input name="location" required></yp-input>

                            <yp-input name="slogan" required></yp-input>

                            <button type="reset" class="btn btn-sm"><span translate>campaignForm.reset</span></button>
                            <button type="submit" class="btn btn-success btn-sm" ng-disabled="campaignForm.$invalid"><span translate>campaignForm.save</span></button>

                        </form>
                    </accordion-group>
                </accordion>
            </div>

        </div>
    </div>
</div>
