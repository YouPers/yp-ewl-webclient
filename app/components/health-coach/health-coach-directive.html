<div ng-if="formattedMessage" ng-class="{overlay: overlay }" ng-style="style"
     ng-click="overlay = !overlay; $parent.newMessage = false"
        >

    <div class="inbox-item" ng-click="messageHidden = !messageHidden">

        <div class="avatar">
            <img ng-src="/assets/img/avatar_coach_blue.svg">

        </div>

        <div class="author">
            <h3 translate>healthCoach.fullname</h3>
        </div>
        <i ng-show="messageHidden" class="fa fa-chevron-right chevron"></i>
        <i ng-hide="messageHidden" class="fa fa-chevron-down chevron"></i>
    </div>
    <div class="message" ng-hide="messageHidden">
        <div ng-if="formattedMessage" ng-bind-html="formattedMessage"></div>
    </div>

    <div class="health-coach-notification-background" ng-class="{ overlay: overlay }"></div>
    <div class="health-coach-notification" ng-class="{ 'new-message': $parent.newMessage}">

        <img ng-src="/assets/img/avatar_coach_blue.svg">
        <i class="fa" ng-class="overlay ? 'fa-chevron-down' : 'fa-chevron-up'"></i>

    </div>

</div>
