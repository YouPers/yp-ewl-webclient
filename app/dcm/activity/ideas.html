<div class="column-layout">

    <nav>


        <div class="header-row"></div>
        <div class="button-row"></div>

        <campaign-card campaign="campaign"></campaign-card>

    </nav>

    <section>


        <div class="header-row">
            <h3 translate>activities.header</h3>
        </div>

        <div class="button-row">

            <button class="btn btn-default pull-right" ui-sref="dcm.idea" translate>campaignoffers.link.newActivity</button>

            <div class="search" ng-if="group.name == 'all'">

                <div class="input-group">
                        <span class="input-group-addon">
                            <i class="glyphicon glyphicon-search"></i>
                        </span>
                    <input ng-model="query.query" type="text" class="form-control"
                           placeholder="{{ 'activities.search' | translate }}" name="query">

                </div>

            </div>

        </div>

        <div class="idea-list">

            <div class="idea-list-item" ng-repeat="idea in ideas | fulltext:query.query">

                <!-- image -->
                <div>
                    <img ng-src="{{::'/assets/actpics/' + idea.number + '.jpg'}}">
                </div>

                <!-- title -->
                <div>
                    <div ng-bind-html="::idea.title"></div>
                </div>

                <!-- duration -->
                <div>
                    <div>
                        <i class="fa fa-clock-o"></i>
                        <span>{{:: idea.defaultduration }}</span>
                        <span>&nbsp;</span>
                        <span translate>activities.duration.suffix</span>
                    </div>

                    <i class="fa"
                       ng-class="::{ 'fa-users': idea.defaultexecutiontype == 'group',
                                 'fa-user': idea.defaultexecutiontype == 'self'}">
                    </i>
                </div>

                <!-- links -->

                <div>

                    <a ui-sref="dcm.recommendation(::{ idea: idea.id })">
                        <i class="fa fa-share-square" popover-placement="top"  popover="{{::'activities.link.recommend' | translate}}" popover-trigger="mouseenter"></i>
                    </a>

                    <a ng-show="idea.defaultexecutiontype === 'group'"
                       ui-sref="dcm.activity(::{ idea: idea.id, mode: 'campaignlead' })" >
                        <i class="fa fa-calendar" popover-placement="top"  popover="{{::'activities.link.schedule' | translate}}" popover-trigger="mouseenter"></i>
                    </a>

                </div>


            </div>
        </div>

    </section>

    <aside>

        <div class="header-row"></div>
        <div class="button-row">
            <button class="btn btn-primary backToGame" ui-sref="dcm.home" translate>
                check.link.back
            </button>
        </div>

        <health-coach event="'stateEnter'"></health-coach>

    </aside>

</div>