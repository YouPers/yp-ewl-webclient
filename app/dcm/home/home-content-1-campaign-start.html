<accordion-group class="campaign-start"
                 ng-if="homeController.sections.start.available"
                 is-open="homeController.sections.start.open">
    <div ng-controller="HomeCampaignStartController as startController" >

        <accordion-heading>
                <span>

                    <span translate>dcmhome.campaignStart.header</span>
                    <a>
                        <i class="fa "
                           ng-class="{ 'fa-chevron-down': homeController.sections.start.open, 'fa-chevron-right': !homeController.sections.start.open }"></i>
                    </a>
                </span>
        </accordion-heading>


        <!-- campaign lead guidance -->

        <span ng-if="!isCampaignLead" translate>dcmhome.campaignStart.campaignLeadGuidance.notCampaignLead</span>

        <tabset class="campaign-preparation" ng-class="{ 'campaign-lead': isCampaignLead }"  justified="true">

            <!-- step 1 -->
            <tab active="startController.campaignPreparation.step1.active" disable="startController.campaignPreparation.step1.disabled">

                <tab-heading>

                    <i class="fa" ng-class="startController.campaignPreparation.step1.complete ? 'fa-check-circle-o' : 'fa-circle-o'"></i>

                    <span>1</span>
                    <span translate>dcmhome.campaignStart.campaignLeadGuidance.step1.tab</span>
                </tab-heading>

                <div>

                    <campaign-card campaign="currentCampaign"></campaign-card>

                    <div>

                        <span translate>dcmhome.campaignStart.campaignLeadGuidance.step1.text</span>

                        <div>
                            <avatar-upload></avatar-upload>
                            <br/>
                            <a class="btn btn-flat" onclick="document.getElementById('avatarUpload').click()" translate>dcmhome.campaignStart.campaignLeadGuidance.step1.avatarLink</a>
                            <a class="btn btn-flat" ui-sref="dcm.campaign({campaignId: $stateParams.campaignId})" translate>dcmhome.campaignStart.campaignLeadGuidance.step1.campaignLink</a>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2 col-sm-push-10">
                        <button type="button"
                                class="btn btn-default"
                                ng-click="startController.campaignPreparation.step2.active = true"
                                ng-disabled="startController.campaignPreparation.step2.disabled"
                                translate>Weiter</button>
                    </div>
                </div>
            </tab>

            <!-- step 2 -->
            <tab active="startController.campaignPreparation.step2.active" disable="startController.campaignPreparation.step2.disabled">

                <tab-heading>

                    <i class="fa" ng-class="startController.campaignPreparation.step2.complete ? 'fa-check-circle-o' : 'fa-circle-o'"></i>
                    <span>2</span>
                    <span translate>dcmhome.campaignStart.campaignLeadGuidance.step2.tab</span>
                </tab-heading>

                <div>
                    <span translate>dcmhome.campaignStart.campaignLeadGuidance.step2.text</span>
                </div>
                <p translate>dcmhome.campaignStart.welcomeLink.createDraft.text</p>

                <a ng-href="{{ startController.createDraftUrl }}" class="btn btn-default" ng-click="startController.completeCampaignPreparation(2)" translate>
                    dcmhome.campaignStart.welcomeLink.createDraft.link
                </a>

                <p translate>dcmhome.campaignStart.welcomeLink.copyLink</p>

                <!--

                 HINT: manual concatenation of absolute url instead of { absolute: true }
                       because there is an issue with html5mode in ui-router with angular 1.3
                       see http://stackoverflow.com/questions/26220037/ui-sref-not-generating-hash-in-url-angular-1-3-0-rc-3
                 -->
                <div class="welcome-link" select-on-click ng-show="currentCampaign.id" ng-click="startController.completeCampaignPreparation(2)">{{ startController.welcomeLink }}
                </div>

                <div class="row">
                    <div class="col-sm-2 col-sm-push-10">
                        <button type="button" class="btn btn-default" ng-click="startController.campaignPreparation.step1.active = true">Zur√ºck</button>
                    </div>
                </div>
            </tab>
        </tabset>
    </div>
</accordion-group>