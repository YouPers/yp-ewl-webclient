<div class="container main-layout dcm {{ $state.current.name.substr(0, $state.current.name.indexOf('.')) }}">

    <div class="column-layout">

    <nav>

</nav>

<section>

    <h1 translate>dcmSignup.welcome</h1>


    <form name="registerForm" ypModel="newUser" class="form" role="form" ng-submit="submit()">

        <yp-input name="email" type="email" required unique-user-field></yp-input>

        <yp-input name="firstname" required></yp-input>
        <yp-input name="lastname" required></yp-input>

        <yp-input name="password" type="password" required ng-minlength="6"></yp-input>
        <yp-input name="password2" type="password" required password-match="newUser.password"></yp-input>

        <yp-input name="organizationName" required></yp-input>

        <div class="form-group"  ng-class="{'has-error': registerForm.termsAccepted.$dirty && registerForm.termsAccepted.$invalid}">

            <!-- toggle-value="termsAccepted" is used again in the <a> to revert the checkbox change when clicking on the link-->
            <label class="p2" toggle-value="termsAccepted">
                <input class="pull-left" name="termsAccepted" type="checkbox" ng-model="termsAccepted" ng-required="true">

                <div class="pull-left">
                    <span translate>registerForm.termsAccepted.label1</span>
                    <a href="#/terms" target="_blank" toggle-value="termsAccepted" translate>registerForm.termsAccepted.label2</a>
                    <span translate>registerForm.termsAccepted.label3</span>
                </div>
            </label>
            <br/>
            <span ng-show="registerForm.termsAccepted.$error.required" class="help-inline" translate>registerForm.termsAccepted.$error.required</span>
        </div>

        <button type="submit" class="btn btn-primary pull-right" ng-disabled="registerForm.$invalid" translate>registerForm.register</button>

    </form>
</section>

<aside>

    <health-coach event="healthCoachEvent"></health-coach>

</aside>
</div>
    </div>